{"openapi":"3.1.0","info":{"title":"api","description":"","license":{"name":""},"version":"0.1.0"},"paths":{"/hook":{"post":{"operationId":"github_webhook","requestBody":{"content":{"application/json":{"schema":{"default":null}}},"required":true},"responses":{"200":{"description":"Webhook processed successfully"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/settings/{setting_id}/node":{"get":{"operationId":"get_node","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Node"}}}}}}},"post":{"operationId":"post_node","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewNode"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeResponse"}}}}}}},"/settings/{setting_id}/node/{node_id}":{"put":{"operationId":"put_node","parameters":[{"name":"node_id","in":"path","description":"ID do nó a ser atualizado","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"label","in":"query","description":"Novo label do nó","required":true,"schema":{"type":"string"}},{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Node"}}}}}},"delete":{"operationId":"delete_node","parameters":[{"name":"node_id","in":"path","description":"ID do nó a ser deletado","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeResponse"}}}}}}},"/settings/{setting_id}/predicate":{"post":{"operationId":"post_predicate","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostPredicate"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Predicate"}}}}}}},"/settings/{setting_id}/predicates":{"get":{"operationId":"get_predicates","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Predicate"}}}}}}}},"/settings/{setting_id}/table":{"post":{"operationId":"post_table","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableDefinition"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RowResponse"}}}}}}}},"/settings/{setting_id}/table/{id}":{"get":{"operationId":"get_table","parameters":[{"name":"id","in":"path","description":"Table ID","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Table"}}}}}},"put":{"operationId":"put_table","parameters":[{"name":"id","in":"path","description":"Table ID","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableDefinition"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RowResponse"}}}}}}}},"/settings/{setting_id}/tables":{"get":{"operationId":"get_tables","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Table"}}}}}}}},"/settings/{setting_id}/tables/{id}":{"delete":{"operationId":"delete_table","parameters":[{"name":"id","in":"path","description":"Table ID","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"text/plain":{"schema":{"type":"string"}}}},"404":{"description":"","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/settings/{setting_id}/triple":{"post":{"operationId":"post_triple","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Triple"}}},"required":true},"responses":{"200":{"description":""}}},"delete":{"operationId":"delete_triple","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Triple"}}},"required":true},"responses":{"200":{"description":""}}}},"/settings/{setting_id}/triples":{"get":{"operationId":"get_triples","parameters":[{"name":"setting_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Triple"}}}}}}}}},"components":{"schemas":{"CellResponse":{"type":"object","required":["id","values"],"properties":{"id":{"type":"integer","format":"int32"},"values":{"type":"array","items":{"type":"integer","format":"int32"}}}},"ColumnDefinition":{"type":"object","required":["id","filter"],"properties":{"filter":{"$ref":"#/components/schemas/ColumnFilter"},"id":{"type":"integer","format":"int32"}}},"ColumnFilter":{"type":"object","properties":{"direction":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/GraphDirection"}]},"predicate_id":{"type":["integer","null"],"format":"int32"}}},"Filter":{"type":"object","properties":{"direction":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/GraphDirection"}]},"node_id":{"type":["integer","null"],"format":"int32"},"predicate":{"type":["integer","null"],"format":"int32"}}},"GraphDirection":{"type":"string","enum":["in","out"]},"NewNode":{"type":"object","required":["label"],"properties":{"label":{"type":"string"}}},"Node":{"type":"object","required":["node_id","label"],"properties":{"label":{"type":"string"},"node_id":{"type":"integer","format":"int32"}}},"NodeResponse":{"type":"object","required":["node_id"],"properties":{"node_id":{"type":"integer","format":"int32"}}},"PostPredicate":{"type":"object","required":["label"],"properties":{"label":{"type":"string"}}},"Predicate":{"type":"object","required":["id","label"],"properties":{"id":{"type":"integer","format":"int32"},"label":{"type":"string"}}},"RowResponse":{"type":"object","required":["node_id","columns"],"properties":{"columns":{"type":"array","items":{"$ref":"#/components/schemas/CellResponse"}},"node_id":{"type":"integer","format":"int32"}}},"Table":{"type":"object","required":["id","def","rows"],"properties":{"def":{"$ref":"#/components/schemas/TableDefinition"},"id":{"type":"integer","format":"int32"},"rows":{"type":"array","items":{"$ref":"#/components/schemas/RowResponse"}}}},"TableDefinition":{"type":"object","required":["label","filter","columns"],"properties":{"columns":{"type":"array","items":{"$ref":"#/components/schemas/ColumnDefinition"}},"filter":{"$ref":"#/components/schemas/Filter"},"label":{"type":"string"}}},"Triple":{"type":"object","required":["subject_id","predicate_id","object_id"],"properties":{"object_id":{"type":"integer","format":"int32"},"predicate_id":{"type":"integer","format":"int32"},"subject_id":{"type":"integer","format":"int32"}}}}}}